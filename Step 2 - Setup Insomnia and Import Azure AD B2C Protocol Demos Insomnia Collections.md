# Step 2 - Setup Insomnia and Import Azure AD B2C Protocol Demos Insomnia Collections
A set of Insomnia collections for testing Azure Identity protocols.

## Download and install Insomnia
1. Download the Insomnia Windows client at https://insomnia.rest/download
2. Install Insomnia locally
3. Sign in to Insomnia with your own account or use the local scratch pad

## Setup Insomnia
1. Open Insomnia windows client and sign in with your own account or use the local scratch pad
2. If you do not have an existing project in your personal workspace, choose **Create Project**
3. Give your project a name or choose the default of **My Project**
4. Choose to store your vault locally using project type **Local Vault**
5. Choose **Create**

## Import an example collection
1. From Insomnia home and your new project **My Project** choose the **Import** button

   ![image](https://github.com/user-attachments/assets/80a2162c-8bbe-44fe-9ed0-be973ea4f67f)


2. From the Import option, select the **Url** option and then copy and paste one of the following available example collections:

   | Example Name | URL |
   | --- | --- |
   | **Azure AD B2C Protocol Fundamentals** | ```https://raw.githubusercontent.com/jasonfritts/insomnia/refs/heads/main/B2C%20Protocols%20Demo.yaml``` |
   | **Entra External ID CIAM Protocol Fundamentals** | ```https://raw.githubusercontent.com/jasonfritts/insomnia/refs/heads/main/Entra%20External%20ID%20CIAM%20Protocols%20Demo.yaml```|



4. After pasting the example you wish to test, choose **Scan** button

    ![image](https://github.com/user-attachments/assets/37aad217-ce30-4caa-8544-8739139579f6)

5. Once you have verified the expected workspace \ requests were read from the collection choose **Import** to import the example into your project

    ![image](https://github.com/user-attachments/assets/03f6f4e3-f2bb-4def-aee2-8e1fa2893466)

  
6. You should now find the collection has been added to your project, and you can open it to browse the example requests

    ![image](https://github.com/user-attachments/assets/8840b445-f712-469e-b91d-ea3651789f59)

    ![image](https://github.com/user-attachments/assets/232481c2-a010-45ec-9f41-ba336945844b)


You can now proceed with using the demo by following the next step [Step 3 - Test the Azure AD B2C Protocols Demo](https://github.com/jasonfritts/insomnia/blob/main/Step%203%20-%20Test%20the%20Azure%20AD%20B2C%20Protocols.md)
